<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "htth://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	template="/templates/modeloSistema.xhtml">

	<ui:define name="menu">
		<ui:include src="/includes/menuPrincipal.xhtml" />
	</ui:define>

	<ui:define name="conteudo">
		<h:form>
			<h:panelGrid columns="2">

				<h:outputLabel value="Nome do Produto: " />
				<h:inputText id="txtName" name="txtNome"
					value="${ProdutoMB.prodAtual.nome}" />

				<h:outputLabel value="Descricao: " />
				<h:inputText id="txtDescricao" name="txtDescricao"
					value="${ProdutoMB.prodAtual.descricao}" />

				<h:outputLabel value="Preco unitário: " />
				<h:inputText id="txtPreco" name="txtPreco"
					value="${ProdutoMB.prodAtual.preco}" />

			</h:panelGrid>
			<h:panelGrid columns="3">
				<p:commandButton value="Inserir" action="#{ProdutoMB.inserir}" />
				<p:commandButton value="Atualizar Tabela"
					actionListener="#{ProdutoMB.listar}"
					update=":frmProListagem:tblProdutos" />
				<p:commandButton value="Excluir" />
			</h:panelGrid>
		</h:form>
		<h:form id="frmProListagem">
			<p:dataTable id="tblProdutos"
				emptyMessage="Nenhum Registro Encontrado" paginator="true" rows="10"
				value="${ProdutoMB.produtos}" var="prod">

				<f:facet name="header">
					Lista de Produtos
				</f:facet>

				<p:column headerText="ID: " sortBy="#{prod.id}"
					filterBy="#{prod.id}">
					<h:outputText value="#{prod.id}" />
				</p:column>

				<p:column headerText="Nome: " sortBy="#{prod.nome}"
					filterBy="#{prod.nome}">
					<h:outputText value="#{prod.nome}" />
				</p:column>

				<p:column headerText="Descrição: " sortBy="#{prod.descricao}"
					filterBy="#{prod.descricao}">
					<h:outputText value="#{prod.descricao}" />
				</p:column>

				<p:column headerText="Preço: " sortBy="#{prod.preco}"
					filterBy="#{prod.preco}">
					<h:outputText value="#{prod.preco}" />
				</p:column>

			</p:dataTable>
		</h:form>

	</ui:define>

</ui:composition>